# 广告素材数据分析能力 — 分享与协作说明

> 本文档用于对内/对外说明：当前已搭建的分析能力、可解决的需求，以及后续落地与深入时各方如何配合。

---

## 一、背景与目标

### 1.1 背景

- 广告投放侧有**素材级数据**（如 tag.xlsx / sksx.xlsx）：每条记录对应一个 HTML 素材，包含展示量、花费、点击、跳转转化、完播率、游戏内行为（开始/失败/通关、进度达成率）、报错率等指标，以及部分素材的**分类标签**（点消、拖消、目标物品）。
- 希望从数据里得到**可执行的结论**：哪类素材表现更好、指标之间有何关联、能否对「高转化/低转化」做预判，以指导素材方向与投放策略。
- 当前数据规模：约 **37 条素材**（tag 表）、部分素材已打标签，适合做探索性分析和轻量预测，为后续规模化分析打基础。

### 1.2 目标

- **描述与对比**：看清整体表现、各标签（点消/拖消/目标物品）相对整体的差异（展示、花费、CTR、CVR、完播率、通关率等）。
- **关联分析**：找出指标与指标、标签与指标之间的相关性，识别强相关对与业务重点（如率指标之间的关联）。
- **预测能力**：在现有特征下，判断素材更可能属于「高 CVR」还是「低 CVR」，为选品与冷启动提供参考。
- **可复现、可刷新**：分析流程脚本化，结论可随数据更新而刷新，并通过**本地 Web 看板**统一查看。

---

## 二、当前已能解决的需求

| 需求类型 | 具体场景 | 当前能力 | 产出形式 |
|----------|----------|----------|----------|
| **看整体与分层** | 总展示/花费/转化如何？各标签（点消/拖消/目标物品）相比整体是更好还是更差？ | 数据概览 + 标签表现对比（相对整体比值） | 看板「数据看板」、`tag_分析结论.md` |
| **找关联** | 哪些指标之间相关性强？标签与 CVR、完播率、通关率等有什么关系？ | Pearson / Spearman 相关性分析，可排除或纳入标签列，支持热力图与强相关对表格 | 看板「相关性分析」、`tag_correlation_*.csv` |
| **判断高/低转化倾向** | 新素材或现有素材，更可能高转化还是低转化？ | 基于标签 + 完播率 + 挑战通过率 + 报错率等的二分类模型，约 81% 准确率、AUC≈0.85 | 看板「预测分析」、`predict_分析结果.md` |
| **自助探索** | 任意选指标看分布、看散点与趋势 | 自定义选列 + 图表类型（柱状/折线/散点等） | 看板「自定义探索」 |
| **统一查看与分享** | 不想跑脚本，只想在网页里看结论 | Streamlit 看板集成：数据看板、自定义探索、相关性分析、预测分析 | 本地运行 `streamlit run app.py`，浏览器访问 |

**结论摘要（可直接用于汇报）：**

- **目标物品**类素材：展示/花费/点击约为整体 **7 倍以上**，通关率约 1.5 倍，可考虑资源倾斜。
- **点消**：CTR、跳转率高于整体（约 1.3～1.4 倍），但通关率偏低（约 0.57），适合优化难度与引导。
- **拖消**：完播率明显低于整体（约 0.39），建议重点排查完播与体验再看 CVR。
- **预测**：用现有特征能较好区分「高 CVR / 低 CVR」素材（AUC≈0.85），适合做冷启动倾向分与分层参考；当前**不适合**预测具体 CVR 数值（样本与特征限制）。

---

## 三、后续落地与深入：如何配合

### 3.1 数据侧

| 配合项 | 说明 | 建议 |
|--------|------|------|
| **数据更新与口径** | 分析依赖导出表（如 tag.xlsx Sheet2）的字段与更新频率 | 约定导出周期（如每周/每双周），尽量保持列名与口径一致；若有新增指标或标签，同步字段说明 |
| **样本量** | 当前约 37 条素材，回归预测具体 CVR 不稳定；分类效果已可用 | 素材与数据积累后，可再做回归、特征重要性、更复杂模型 |
| **标签覆盖** | 点消/拖消/目标物品目前部分素材有、部分为空 | 若希望「按标签」的结论更稳，可逐步补全标签；新标签也可纳入分析 |

### 3.2 业务侧

| 配合项 | 说明 | 建议 |
|--------|------|------|
| **目标优先级** | 当前以 CVR（跳转转化率）为主目标做了预测与解读；也可做 CTR、完播率、通关率等 | 明确下一阶段最关心的 1～2 个指标，便于优先做「预测目标/特征」的定制 |
| **动作闭环** | 分析给出「目标物品可倾斜、点消优化难度、拖消排查完播」等方向 | 落地到素材策略或投放策略时，可约定简单 A/B 或分层规则，便于后续用数据验证效果 |
| **冷启动与分层** | 已有「高/低 CVR」二分类模型，可对新素材打倾向分 | 若需接入投放或运营流程，需约定：谁产出分数、更新频率、如何与现有规则结合 |

### 3.3 分析/工程侧

| 配合项 | 说明 | 建议 |
|--------|------|------|
| **脚本与看板** | 分析由 Python 脚本（如 `analyze_tag.py`、`tag_label_compare.py`、`predict_analysis.py`）产出结论与 CSV/MD；看板读取这些结果与原始数据 | 数据路径或表结构变更时，需同步改脚本/看板配置；可指定负责人做定期跑数与看板发布 |
| **扩展分析** | 可增加预测目标（如 CTR、完播率）、换模型、做特征重要性等 | 由业务提需求（例如「希望预测完播率」），分析侧改脚本并更新看板与说明文档 |
| **部署与权限** | 当前为本地运行看板（`streamlit run app.py`） | 若需内网或云端共享，需部署与权限方案（如内网服务器 + 访问控制），与基础设施配合 |

### 3.4 建议的下一步（可选）

1. **短期**：固定数据导出节奏，每周或每双周跑一次分析脚本并刷新看板，形成「数据更新 → 结论刷新」的惯例。
2. **中期**：补全/规范标签，并选定 1 个业务最关心的指标做「预测 + 特征重要性」，输出一版可复用的分析报告模板。
3. **长期**：若冷启动/分层要进系统，与投放或运营系统对接「高/低 CVR 倾向分」的产出方式与更新频率。

---

## 四、附录：文档与脚本一览

| 类型 | 名称 | 用途 |
|------|------|------|
| 看板 | `app.py` | Streamlit 看板入口，含数据看板、自定义探索、相关性分析、预测分析 |
| 分析结论 | `tag_分析结论.md` | 数据概览、标签对比、相关性结论（含与 sksx 对比说明） |
| 分析结论 | `predict_分析结果.md` | 预测分析设定、指标解读、对素材方向的指导、如何继续做预测 |
| 使用说明 | `预测分析_如何开始.md` | 如何跑预测脚本、如何选目标与特征、注意事项 |
| 脚本 | `analyze_tag.py` | 数据概览 + 相关性分析，产出 tag 结论与相关矩阵 CSV |
| 脚本 | `tag_label_compare.py` | 标签表现对比，产出分组均值与相对整体比值 |
| 脚本 | `predict_analysis.py` | CVR 回归 + 高/低 CVR 二分类，产出 predict_分析结果.md |
| 依赖 | `requirements.txt` | 看板与脚本所需 Python 包 |

---

*文档版本：基于当前 tag.xlsx 与既有分析结论整理，后续数据或目标变化时可更新本说明。*
